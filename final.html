<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Happy Birthday</title>
  <link rel="stylesheet" href="style.css">
</head>
<body class="page3">
  <div class="container-final">
    <!-- Bagian Kiri -->
    <div class="left">
      <h1>Selamat Ulang Tahun Sayangkuu ğŸ’™</h1>
      <p id="typing-text"></p>
      <button id="playMusic" class="btn">â–¶ï¸ Putar Musik</button>
    </div>

    <!-- Bagian Kanan -->
    <div class="right">
      <div class="slideshow" id="slideshow"></div>
    </div>
  </div>

  <!-- Musik -->
  <audio id="bgMusic" loop>
    <source src="assets/birthday.mp3" type="audio/mpeg">
    Browser kamu tidak mendukung audio.
  </audio>

  <script>
    // Efek love jatuh
    function fallingHearts(){
      const heart = document.createElement("div");
      heart.innerHTML = "ğŸ’™";
      heart.classList.add("heart");
      heart.style.left = Math.random() * 100 + "vw";
      heart.style.animationDuration = (Math.random() * 3 + 2) + "s";
      document.body.appendChild(heart);
      setTimeout(()=>heart.remove(),5000);
    }
    setInterval(fallingHearts,300);

    // Generate slideshow otomatis (16 foto)
    const slideshowContainer = document.getElementById("slideshow");
    const totalFotos = 16;
    for(let i=1; i<=totalFotos; i++){
      let img = document.createElement("img");
      img.src = `assets/foto${i}.jpg`;
      img.classList.add("slide");
      slideshowContainer.appendChild(img);
    }

    // Slideshow loop
    let slideIndex = 0;
    const slides = document.getElementsByClassName("slide");
    function showSlides(){
      for(let s of slides){ s.style.display = "none"; }
      slideIndex++;
      if(slideIndex > slides.length) slideIndex = 1;
      slides[slideIndex-1].style.display = "block";
      setTimeout(showSlides, 3000);
    }
    showSlides();

    // Efek mengetik
    const message = 'êœ±á´‡ÊŸá´€á´á´€á´› á´œÊŸá´€É´É¢ á´›á´€Êœá´œÉ´ É´Éªêœ±Ê€ÉªÉ´á´€ êœ±á´€Êá´€É´É¢É¢É¢ ,á´„Éªá´‡á´‡ á´œá´…á´€Êœ 21 á´›á´€Êœá´œÉ´ êœ±á´‡ÊŸá´€á´á´€á´› Êá´€ÊœÊœ êœ±á´‡á´á´É¢á´€ á´…Éªá´œá´á´œÊ€ 21 á´›á´€Êœá´œÉ´ ÉªÉ´Éª êœ±á´‡É¢á´€ÊŸá´€ Êá´€É´É¢ á´‹á´€á´á´œ ÉªÉ´É¢ÉªÉ´á´‹á´€É´ á´›á´‡Ê€á´„á´€á´˜á´€Éª á´…á´€É´ êœ±á´‡á´á´É¢á´€ á´Šá´œÉ¢á´€ á´…ÉªÊ™á´‡Ê€Éª á´‹á´‡êœ±á´‡Êœá´€á´›á´€É´ á´…á´€É´ á´œá´á´œÊ€ Êá´€É´É¢ á´˜á´€É´á´Šá´€É´É¢ á´‹á´€Êá´€É´Êá´€ Ê™á´€Ê€á´œ á´›á´€Êœá´œÉ´ ÉªÉ´Éª Êá´€Êœ á´€á´‹á´œ É´É¢á´œá´„á´€á´˜ÉªÉ´ á´‹á´€á´á´œ á´œÊŸá´€É´É¢ á´›á´€Êœá´œÉ´ á´…Éª Êœá´€Ê€Éª Êœ á´‹á´€Ê€É´á´€ êœ±á´‡Ê™á´‡ÊŸá´œá´É´Êá´€ á´˜á´œá´›á´œêœ± á´€á´¡á´á´‹á´¡á´á´‹á´€á´¡á´ á´á´€á´€êœ° Ê êœ±á´‡á´‹á´€ÊŸÉª ÊŸá´€É¢Éª êœ±á´‡ÊŸá´€á´á´€á´› á´œÊŸá´€É´É¢ á´›á´€Êœá´œÉ´É´ êœ±á´€ÊÊ â¤ï¸â¤ï¸';
    let i = 0;
    function typeEffect(){
      if(i < message.length){
        document.getElementById("typing-text").innerHTML += message.charAt(i);
        i++;
        setTimeout(typeEffect, 50);
      } else {
        document.getElementById("typing-text").classList.add("cursor"); // blinking cursor
      }
    }
    typeEffect();

    // Musik manual play
    const playBtn = document.getElementById("playMusic");
    const bgMusic = document.getElementById("bgMusic");

    playBtn.addEventListener("click", () => {
      bgMusic.play().then(() => {
        playBtn.style.display = "none";
      }).catch(err => {
        console.error("Musik gagal diputar:", err);
        alert("âš ï¸ Musik gagal diputar. Pastikan file 'birthday.mp3' ada di folder assets/");
      });
    });
  </script>
</body>
</html>
